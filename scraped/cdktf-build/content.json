{
  "title": "Build AWS infrastructure with CDK for Terraform",
  "url": "https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-build",
  "codeBlocks": [
    {
      "index": 0,
      "code": "$ mkdir learn-cdktf",
      "variants": {}
    },
    {
      "index": 1,
      "code": "$ cd learn-cdktf",
      "variants": {}
    },
    {
      "index": 2,
      "code": "$ cdktf init --template=\"typescript\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to start from a Terraform project? No Setting up a Cloud Backend for your project. ? Do you want to send crash reports to the CDKTF team? See https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash-reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... added 2 packages, and audited 57 packages in 1s 7 packages are looking for funding run `npm fund` for details found 0 vulnerabilities added 301 packages, and audited 358 packages in 8s 36 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ========================================================================================================",
      "variants": {
        "lang-csharp": "$ cdktf init --template=\"csharp\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf Setting up remote state backend and workspace in Terraform Cloud. Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... Determining projects to restore... Restored /Users/YOU/code/learn-cdktf/MyTerraformStack.csproj (in 1.6 sec). ======================================================================================================== Your cdktf csharp project is ready! cat help Prints this message Compile: dotnet build Builds your dotnet packages Synthesize: cdktf synth [stack] Synthesize Terraform resources to cdktf.out/ Diff: cdktf diff [stack] Perform a diff (terraform plan) for the given stack Deploy: cdktf deploy [stack] Deploy the given stack",
        "lang-go": "$ cdktf init --template=\"go\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name '<YOUR_ORG>' We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf Setting up remote state backend and workspace in Terraform Cloud. ? Do you want to send crash reports to the CDKTF team? See https://web.archive.org/web/20250713202020/https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash -reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... go: downloading github.com/hashicorp/terraform-cdk-go/cdktf v0.12.0 go: upgraded github.com/aws/constructs-go/constructs/v10 v10.0.25 => v10.1.56 ======================================================================================================== Your cdktf go project is ready! cat help Prints this message Compile: go build Builds your go project Synthesize: cdktf synth [stack] Synthesize Terraform resources to cdktf.out/ Diff: cdktf diff [stack] Perform a diff (terraform plan) for the given stack",
        "lang-java": "$ cdktf init --template=\"java\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name hashicorp-learn We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf Setting up remote state backend and workspace in Terraform Cloud. ? Do you want to send crash reports to the CDKTF team? See https://web.archive.org/web/20250713212758/https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash -reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... [INFO] Scanning for projects... [INFO] [INFO] -----------------< com.mycompany.app:learn-cdktf-java >----------------- [INFO] Building learn-cdktf-java 0.1 [INFO] --------------------------------[ jar ]--------------------------------- Downloading from central: https://repo.maven.apache.org/maven2/software/constructs/constructs/maven-metadata.xml ## ... [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 3.450 s [INFO] Finished at: 2022-01-21T09:55:54-06:00 [INFO] ------------------------------------------------------------------------ ========================================================================================================",
        "lang-python": "$ cdktf init --template=\"python\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to send crash reports to the CDKTF team? See https://web.archive.org/web/20251206125735/https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash -reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... Creating a virtualenv for this project... ##... ======================================================================================================== Your cdktf Python project is ready! cat help Prints this message Compile: pipenv run ./main.py Compile and run the python code. Synthesize: cdktf synth [stack] Synthesize Terraform resources to cdktf.out/ Diff: cdktf diff [stack] Perform a diff (terraform plan) for the given stack Deploy:"
      }
    },
    {
      "index": 3,
      "code": "import { Construct } from \"constructs\"; import { App, TerraformStack, TerraformOutput } from \"cdktf\"; import { AwsProvider } from \"@cdktf/provider-aws/lib/provider\"; import { Instance } from \"@cdktf/provider-aws/lib/instance\"; class MyStack extends TerraformStack { constructor(scope: Construct, id: string) { super(scope, id); new AwsProvider(this, \"AWS\", { region: \"us-west-1\", }); const ec2Instance = new Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\",",
      "variants": {
        "lang-csharp": "using System; using Constructs; using HashiCorp.Cdktf; using HashiCorp.Cdktf.Providers.Aws.Provider; using HashiCorp.Cdktf.Providers.Aws.Instance; namespace MyCompany.MyApp { class MainStack : TerraformStack { public MainStack(Construct scope, string id) : base(scope, id) { new AwsProvider(this, \"AWS\", new AwsProviderConfig { Region = \"us-west-1\" });",
        "lang-go": "package main import ( \"github.com/aws/constructs-go/constructs/v10\" \"github.com/aws/jsii-runtime-go\" \"github.com/hashicorp/terraform-cdk-go/cdktf\" \"github.com/cdktf/cdktf-provider-aws-go/aws/v10/instance\" awsprovider \"github.com/cdktf/cdktf-provider-aws-go/aws/v10/provider\" ) func NewMyStack(scope constructs.Construct, id string) cdktf.TerraformStack { stack := cdktf.NewTerraformStack(scope, &id) awsprovider.NewAwsProvider(stack, jsii.String(\"AWS\"), &awsprovider.AwsProviderConfig{ Region: jsii.String(\"us-west-1\"), }) instance := instance.NewInstance(stack, jsii.String(\"compute\"), &instance.InstanceConfig",
        "lang-java": "package com.mycompany.app; import software.constructs.Construct; import com.hashicorp.cdktf.TerraformStack; import com.hashicorp.cdktf.TerraformOutput; import com.hashicorp.cdktf.providers.aws.provider.AwsProvider; import com.hashicorp.cdktf.providers.aws.instance.Instance; public class MainStack extends TerraformStack { public MainStack(final Construct scope",
        "lang-python": "#!/usr/bin/env python from constructs import Construct from cdktf import App, NamedRemoteWorkspace, TerraformStack, TerraformOutput, RemoteBackend from cdktf_cdktf_provider_aws.provider import AwsProvider from cdktf_cdktf_provider_aws.instance import Instance class MyStack(TerraformStack): def __init__(self, scope: Construct, ns: str): super().__init__(scope, ns) AwsProvider(self, \"AWS\", region=\"us-west-1\") instance = Instance(self, \"compute\", ami=\"ami-01456a894f71116f2\", instance_type"
      }
    },
    {
      "index": 4,
      "code": "const app = new App(); new MyStack(app, \"aws_instance\"); new RemoteBackend(stack, { hostname: \"app.terraform.io\", organization: \"<YOUR_ORG>\", workspaces: { name: \"learn-cdktf\" } }); app.synth();",
      "variants": {
        "lang-csharp": "using System; using Constructs; using HashiCorp.Cdktf; namespace MyCompany.MyApp { class Program { public static void Main(string[] args) { App app = new App(); MainStack stack = new MainStack(app, \"aws_instance\"); new RemoteBackend( stack, new RemoteBackendProps { Hostname = \"app.terraform.io\", Organization = \"<YOUR_ORG>\", Workspaces = new NamedRemoteWorkspace",
        "lang-go": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102",
        "lang-java": "package com.mycompany.app; import com.hashicorp.cdktf.App; import com.hashicorp.cdktf.NamedRemoteWorkspace; import com.hashicorp.cdktf.RemoteBackend; import com.hashicorp.cdktf.RemoteBackendProps; import com.hashicorp.cdktf.TerraformStack; public class Main { public static void main(String[] args) { final App app = new App(); TerraformStack stack = new",
        "lang-python": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102"
      }
    },
    {
      "index": 5,
      "code": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102",
      "variants": {
        "lang-go": "instance := instance.NewInstance(stack, jsii.String(\"compute\"), &instance.InstanceConfig{ Ami: jsii.String(\"ami-01456a894f71116f2\"), InstanceType: jsii.String(\"t2.micro\"), Tags: &map[string]*string{ \"Name\": jsii.String(\"CDKTF-Demo\"), }, })",
        "lang-java": "package com.mycompany.app; import software.constructs.Construct;",
        "lang-python": "instance = Instance(self, \"compute\", ami=\"ami-01456a894f71116f2\", instance_type=\"t2.micro\", tags={\"Name\": \"CDKTF-Demo\"}, )"
      }
    },
    {
      "index": 6,
      "code": "const ec2Instance = new instance.Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\", instanceType: \"t2.micro\", tags: { Name: \"CDKTF-Demo\", }, });",
      "variants": {
        "lang-csharp": "using System; using Constructs; using HashiCorp.Cdktf; using System.Collections.Generic;",
        "lang-go": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
        "lang-java": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102",
        "lang-python": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance"
      }
    },
    {
      "index": 7,
      "code": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
      "variants": {
        "lang-csharp": "Instance instance = new Instance(this, \"compute\", new InstanceConfig { Ami = \"ami-01456a894f71116f2\", InstanceType = \"t2.micro\", Tags = new Dictionary<string, string> { { \"Key\", \"Name\" }, { \"Value\", \"CDKTF-Demo\" } } });",
        "lang-go": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance",
        "lang-java": "package com.mycompany.app; import java.util.Map; import software.constructs.Construct;",
        "lang-python": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance"
      }
    },
    {
      "index": 8,
      "code": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance",
      "variants": {
        "lang-csharp": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
        "lang-go": "(removed)",
        "lang-java": "Instance instance = Instance.Builder.create(this, \"compute\") .ami(\"ami-01456a894f71116f2\") .instanceType(\"t2.micro\") .tags(Map.of(\"Name\", \"CDKTF-Demo\")) .build();",
        "lang-python": "(removed)"
      }
    }
  ],
  "sections": [
    {
      "heading": "15min",
      "level": 1,
      "prose": "Terraform Programming language TypeScript Python Go C# Java The Cloud Development Kit for Terraform (CDKTF) allows you to define your infrastructure in a familiar programming language such as TypeScript, Python, Go, C#, or Java. CDKTF generates Terraform configuration in JSON, then automatically applies that configuration via Terraform to provision your infrastructure. In this tutorial, you will provision an EC2 instance on AWS using your preferred programming language. If you do not have CDKTF installed on your system, follow the steps in the install CDKTF tutorial to install it before you continue with this tutorial. Prerequisites To follow this tutorial, you need the following installed locally: Terraform v1.2+ An HCP Terraform account, with CLI authentication configured CDK for Terraform v0.15+ an AWS account AWS Credentials configured for use with Terraform Terraform and CDKTF will use credentials set in your environment or through other means as described in the Terraform documentation You will also need to install a recent version of the programming language you will use for this tutorial. We have verified this tutorial works with the following language versions. Typescript v4.4 and Node.js v16.13 Initialize a new CDK for Terraform application Start by creating a directory named learn-cdktf for your project. mkdir learn-cdktf Then navigate into it. cd learn-cdktf Inside the directory, run cdktf init , specifying the template for your preferred language and Terraform's AWS provider. Select your HCP Terraform Organization when prompted, and use the default name learn-cdktf for your HCP Terraform Workspace. CDKTF will also prompt you for other information about your project, such as the name and description. Accept the defaults for these options. Tip If you would prefer to keep your state locally, use the --local flag with cdktf init cdktf init --template= --providers= ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to start from a Terraform project? No Setting up a Cloud Backend for your project. ? Do you want to send crash reports to the CDKTF team? See https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash-reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... added 2 packages, and audited 57 packages in 1s 7 packages are looking for funding run `npm fund` for details found 0 vulnerabilities added 301 packages, and audited 358 packages in 8s 36 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ======================================================================================================== Your cdktf typescript project is ready! ##... ======================================================================================================== Checking whether pre-built provider exists for the following constraints: provider: aws version : ~>4.0 language: typescript cdktf   : 0.15.0 Found pre-built provider. Package installed. CDKTF provides packages with prebuilt classes for each supported programming language for many common Terraform providers that you can use in your CDKTF projects. The cdktf init command you just ran will find a pre-built AWS provider that you will use for this project. For other Terraform providers and modules, CDKTF automatically generates the appropriate classes for your chosen language Define your CDK for Terraform Application Open the main.ts file to view your application code. The template creates a scaffold with no functionality. Replace the contents of main.ts with the following code for a new TypeScript application, which uses the CDK to provision an AWS EC2 instance in us-west-1 , and stores its state in HCP Terraform. main.ts import { Construct } from import { App TerraformStack TerraformOutput } from import { AwsProvider } from import { Instance } from class MyStack extends TerraformStack constructor (scope Construct id string ) { super (scope id); new AwsProvider this region }); const ec2Instance new Instance this ami instanceType }); new TerraformOutput this value ec2Instance .publicIp }); const app new App (); const stack new MyStack (app ); new RemoteBackend (stack hostname organization workspaces name }); app .synth (); Replace <YOUR_ORG> with the HCP Terraform organization name you chose when you ran terraform init earier. If you chose a different workspace name, replace learn-cdktf with that name. Tip If you would prefer to store your project's state locally, remove or comment out new RemoteBackend(stack, { [...] }); and remove RemoteBackend from the import { [...] } from line near the top of the file. Examine the code Most of the code is similar to concepts found in a traditional Terraform configuration written in HCL, but there are a few notable differences. Review the code for the programming language you have selected. You must explicitly import any classes your TypeScript code uses. For example, you will use TerraformOutput to create a Terraform output value for your EC2 instance's public IP address. import { Construct } from import { App TerraformStack TerraformOutput RemoteBackend } from The code imports the AwsProvider and ec2 classes from the provider you installed earlier. import { AwsProvider } from import { Instance } from The MyStack class defines a new stack, which contains the code to define your provider and all of your resources. class MyStack extends TerraformStack constructor (scope Construct id string ) { super (scope id); The code configures the AWS provider to use the us-west-1 region. new AwsProvider this region }); The AwsProvider accepts an object with keys and values that map to Terraform arguments as listed in the AWS provider documentation The ec2.Instance class creates a t2.micro EC2 instance with an AWS ami. const ec2Instance new Instance this ami instanceType }); The ec2.instance class also accepts object, using camel case for properties that correspond to the AWS provider documentation The code stores the instance as a variable so that the TerraformOutput below can reference the instance's publicIp attribute. new TerraformOutput this value ec2Instance .publicIp }); When you write CDKTF code with an IDE, use it view the properties and functions of the classes, variables, and packages in your code. This example uses the publicIp attribute from the instance variable. Finally, your application uses the stack you have defined, configures a remote backend to store your project's state in HCP Terraform, and calls app.synth() to generate Terraform configuration. const app new App (); new MyStack (app ); new RemoteBackend (stack hostname organization workspaces name }); app .synth (); Provision infrastructure Now that you have initialized the project with the AWS provider and written code to provision an instance, it's time to deploy it by running cdktf deploy . When CDKTF asks you to confirm the deploy, respond with a yes cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE         compute             aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102 The cdktf deploy command runs terraform apply in the background. After the instance is created, visit the AWS EC2 Dashboard Notice that the CDK deploy command printed out the public_ip output value, which matches the instance's public IPv4 address. Change infrastructure by adding the Name tag Add a tag to the EC2 instance. Update the ec2.Instance in main.ts to add a Name tag. main.ts const ec2Instance new instance .Instance this ami instanceType tags Name }); Deploy your updated application. Confirm your deploy by choosing Approve cdktf deploy aws_instance  Initializing the backend... aws_instance Successfully configured the backend use this backend unless the backend configuration changes. aws_instance  Initializing provider plugins... aws_instance  - Finding hashicorp/aws versions matching aws_instance  - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply Please review the diff output above for aws_instance Approve  Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance  public_ip = aws_instance public_ip = 54.219.167.18 Clean up your infrastructure Destroy the application by running cdktf destroy . Confirm your destroy by choosing Approve cdktf destroy aws_instance  Initializing the backend... aws_instance  Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance  - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply Please review the diff output above for aws_instance Approve  Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = aws_instance  aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance  aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance  aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance  aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance  aws_instance.compute (compute): Destruction complete after 30s aws_instance Destroy complete! Resources: 1 destroyed. Destroying your CDKTF application will not remove the HCP Terraform workspace that stores your project's state. Log into the HCP Terraform application and delete the workspace. Next steps Now you have deployed, modified, and deleted an AWS EC2 instance using CDKTF! CDKTF is capable of much more. For example, you can: Use the cdktf synth command to generate JSON which can be used by the Terraform executable to provision infrastructure using terraform apply and other Terraform commands. Use Terraform providers and modules. Use programming language features (like class inheritance) or data from other sources to augment your Terraform configuration. Use CDKTF with HCP Terraform for persistent storage of your state file and for team collaboration. For other examples, refer to the CDKTF documentation repository. In particular, check out the: CDKTF Architecture documentation for an overview of CDKTF's architecture. Community documentation to learn how to engage with the CDKTF developer community. Review example code in several programming languages. Was this tutorial helpful? Previous Install CDKTF Next Lambda functions"
    },
    {
      "heading": "8 tutorials",
      "level": 2,
      "prose": "HashiConf Announcements - Terraform 1.0 Try the features you heard about at HashiConf including CDKTF Golang support, and the HCP Terraform private registry. Version Terraform, state, providers, and HCP Terraform. Terraform Programming language On this page: Build AWS infrastructure with CDK for Terraform Prerequisites Initialize a new CDK for Terraform application Define your CDK for Terraform Application Provision infrastructure Change infrastructure by adding the Name tag Clean up your infrastructure Next steps"
    }
  ],
  "images": [
    {
      "alt": "AWS Console",
      "src": "https://developer.hashicorp.com/_next/image?url=https%3A%2F%2Fcontent.hashicorp.com%2Fapi%2Fassets%3Fproduct%3Dtutorials%26version%3Dmain%26asset%3Dpublic%252Fimg%252Fterraform%252Fcdktf%252Faws-console.png%26width%3D2048%26height%3D1176&w=3840&q=75&dpl=dpl_4NrwpnYVi5d8H3CMxePPd8Mi7nJy"
    }
  ],
  "tabVariants": {
    "lang-csharp": {
      "codeBlocks": 10,
      "diffs": 7,
      "changedBlocks": {
        "block-2": {
          "default": "$ cdktf init --template=\"typescript\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to start from a Terraform project? No Setting up a Cloud Backend for your project. ? Do you want to send crash reports to the CDKTF team? See https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash-reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... added 2 packages, and audited 57 packages in 1s 7 packages are looking for funding run `npm fund` for details found 0 vulnerabilities added 301 packages, and audited 358 packages in 8s 36 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ========================================================================================================",
          "variant": "$ cdktf init --template=\"csharp\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf Setting up remote state backend and workspace in Terraform Cloud. Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... Determining projects to restore... Restored /Users/YOU/code/learn-cdktf/MyTerraformStack.csproj (in 1.6 sec). ======================================================================================================== Your cdktf csharp project is ready! cat help Prints this message Compile: dotnet build Builds your dotnet packages Synthesize: cdktf synth [stack] Synthesize Terraform resources to cdktf.out/ Diff: cdktf diff [stack] Perform a diff (terraform plan) for the given stack Deploy: cdktf deploy [stack] Deploy the given stack"
        },
        "block-3": {
          "default": "import { Construct } from \"constructs\"; import { App, TerraformStack, TerraformOutput } from \"cdktf\"; import { AwsProvider } from \"@cdktf/provider-aws/lib/provider\"; import { Instance } from \"@cdktf/provider-aws/lib/instance\"; class MyStack extends TerraformStack { constructor(scope: Construct, id: string) { super(scope, id); new AwsProvider(this, \"AWS\", { region: \"us-west-1\", }); const ec2Instance = new Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\",",
          "variant": "using System; using Constructs; using HashiCorp.Cdktf; using HashiCorp.Cdktf.Providers.Aws.Provider; using HashiCorp.Cdktf.Providers.Aws.Instance; namespace MyCompany.MyApp { class MainStack : TerraformStack { public MainStack(Construct scope, string id) : base(scope, id) { new AwsProvider(this, \"AWS\", new AwsProviderConfig { Region = \"us-west-1\" });"
        },
        "block-4": {
          "default": "const app = new App(); new MyStack(app, \"aws_instance\"); new RemoteBackend(stack, { hostname: \"app.terraform.io\", organization: \"<YOUR_ORG>\", workspaces: { name: \"learn-cdktf\" } }); app.synth();",
          "variant": "using System; using Constructs; using HashiCorp.Cdktf; namespace MyCompany.MyApp { class Program { public static void Main(string[] args) { App app = new App(); MainStack stack = new MainStack(app, \"aws_instance\"); new RemoteBackend( stack, new RemoteBackendProps { Hostname = \"app.terraform.io\", Organization = \"<YOUR_ORG>\", Workspaces = new NamedRemoteWorkspace"
        },
        "block-6": {
          "default": "const ec2Instance = new instance.Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\", instanceType: \"t2.micro\", tags: { Name: \"CDKTF-Demo\", }, });",
          "variant": "using System; using Constructs; using HashiCorp.Cdktf; using System.Collections.Generic;"
        },
        "block-7": {
          "default": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
          "variant": "Instance instance = new Instance(this, \"compute\", new InstanceConfig { Ami = \"ami-01456a894f71116f2\", InstanceType = \"t2.micro\", Tags = new Dictionary<string, string> { { \"Key\", \"Name\" }, { \"Value\", \"CDKTF-Demo\" } } });"
        },
        "block-8": {
          "default": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance",
          "variant": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance"
        },
        "block-9": {
          "default": null,
          "variant": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance"
        }
      }
    },
    "lang-go": {
      "codeBlocks": 8,
      "diffs": 7,
      "changedBlocks": {
        "block-2": {
          "default": "$ cdktf init --template=\"typescript\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to start from a Terraform project? No Setting up a Cloud Backend for your project. ? Do you want to send crash reports to the CDKTF team? See https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash-reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... added 2 packages, and audited 57 packages in 1s 7 packages are looking for funding run `npm fund` for details found 0 vulnerabilities added 301 packages, and audited 358 packages in 8s 36 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ========================================================================================================",
          "variant": "$ cdktf init --template=\"go\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name '<YOUR_ORG>' We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf Setting up remote state backend and workspace in Terraform Cloud. ? Do you want to send crash reports to the CDKTF team? See https://web.archive.org/web/20250713202020/https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash -reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... go: downloading github.com/hashicorp/terraform-cdk-go/cdktf v0.12.0 go: upgraded github.com/aws/constructs-go/constructs/v10 v10.0.25 => v10.1.56 ======================================================================================================== Your cdktf go project is ready! cat help Prints this message Compile: go build Builds your go project Synthesize: cdktf synth [stack] Synthesize Terraform resources to cdktf.out/ Diff: cdktf diff [stack] Perform a diff (terraform plan) for the given stack"
        },
        "block-3": {
          "default": "import { Construct } from \"constructs\"; import { App, TerraformStack, TerraformOutput } from \"cdktf\"; import { AwsProvider } from \"@cdktf/provider-aws/lib/provider\"; import { Instance } from \"@cdktf/provider-aws/lib/instance\"; class MyStack extends TerraformStack { constructor(scope: Construct, id: string) { super(scope, id); new AwsProvider(this, \"AWS\", { region: \"us-west-1\", }); const ec2Instance = new Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\",",
          "variant": "package main import ( \"github.com/aws/constructs-go/constructs/v10\" \"github.com/aws/jsii-runtime-go\" \"github.com/hashicorp/terraform-cdk-go/cdktf\" \"github.com/cdktf/cdktf-provider-aws-go/aws/v10/instance\" awsprovider \"github.com/cdktf/cdktf-provider-aws-go/aws/v10/provider\" ) func NewMyStack(scope constructs.Construct, id string) cdktf.TerraformStack { stack := cdktf.NewTerraformStack(scope, &id) awsprovider.NewAwsProvider(stack, jsii.String(\"AWS\"), &awsprovider.AwsProviderConfig{ Region: jsii.String(\"us-west-1\"), }) instance := instance.NewInstance(stack, jsii.String(\"compute\"), &instance.InstanceConfig"
        },
        "block-4": {
          "default": "const app = new App(); new MyStack(app, \"aws_instance\"); new RemoteBackend(stack, { hostname: \"app.terraform.io\", organization: \"<YOUR_ORG>\", workspaces: { name: \"learn-cdktf\" } }); app.synth();",
          "variant": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102"
        },
        "block-5": {
          "default": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102",
          "variant": "instance := instance.NewInstance(stack, jsii.String(\"compute\"), &instance.InstanceConfig{ Ami: jsii.String(\"ami-01456a894f71116f2\"), InstanceType: jsii.String(\"t2.micro\"), Tags: &map[string]*string{ \"Name\": jsii.String(\"CDKTF-Demo\"), }, })"
        },
        "block-6": {
          "default": "const ec2Instance = new instance.Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\", instanceType: \"t2.micro\", tags: { Name: \"CDKTF-Demo\", }, });",
          "variant": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance"
        },
        "block-7": {
          "default": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
          "variant": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance"
        },
        "block-8": {
          "default": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance",
          "variant": null
        }
      }
    },
    "lang-java": {
      "codeBlocks": 11,
      "diffs": 9,
      "changedBlocks": {
        "block-2": {
          "default": "$ cdktf init --template=\"typescript\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to start from a Terraform project? No Setting up a Cloud Backend for your project. ? Do you want to send crash reports to the CDKTF team? See https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash-reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... added 2 packages, and audited 57 packages in 1s 7 packages are looking for funding run `npm fund` for details found 0 vulnerabilities added 301 packages, and audited 358 packages in 8s 36 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ========================================================================================================",
          "variant": "$ cdktf init --template=\"java\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name hashicorp-learn We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf Setting up remote state backend and workspace in Terraform Cloud. ? Do you want to send crash reports to the CDKTF team? See https://web.archive.org/web/20250713212758/https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash -reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... [INFO] Scanning for projects... [INFO] [INFO] -----------------< com.mycompany.app:learn-cdktf-java >----------------- [INFO] Building learn-cdktf-java 0.1 [INFO] --------------------------------[ jar ]--------------------------------- Downloading from central: https://repo.maven.apache.org/maven2/software/constructs/constructs/maven-metadata.xml ## ... [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 3.450 s [INFO] Finished at: 2022-01-21T09:55:54-06:00 [INFO] ------------------------------------------------------------------------ ========================================================================================================"
        },
        "block-3": {
          "default": "import { Construct } from \"constructs\"; import { App, TerraformStack, TerraformOutput } from \"cdktf\"; import { AwsProvider } from \"@cdktf/provider-aws/lib/provider\"; import { Instance } from \"@cdktf/provider-aws/lib/instance\"; class MyStack extends TerraformStack { constructor(scope: Construct, id: string) { super(scope, id); new AwsProvider(this, \"AWS\", { region: \"us-west-1\", }); const ec2Instance = new Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\",",
          "variant": "package com.mycompany.app; import software.constructs.Construct; import com.hashicorp.cdktf.TerraformStack; import com.hashicorp.cdktf.TerraformOutput; import com.hashicorp.cdktf.providers.aws.provider.AwsProvider; import com.hashicorp.cdktf.providers.aws.instance.Instance; public class MainStack extends TerraformStack { public MainStack(final Construct scope"
        },
        "block-4": {
          "default": "const app = new App(); new MyStack(app, \"aws_instance\"); new RemoteBackend(stack, { hostname: \"app.terraform.io\", organization: \"<YOUR_ORG>\", workspaces: { name: \"learn-cdktf\" } }); app.synth();",
          "variant": "package com.mycompany.app; import com.hashicorp.cdktf.App; import com.hashicorp.cdktf.NamedRemoteWorkspace; import com.hashicorp.cdktf.RemoteBackend; import com.hashicorp.cdktf.RemoteBackendProps; import com.hashicorp.cdktf.TerraformStack; public class Main { public static void main(String[] args) { final App app = new App(); TerraformStack stack = new"
        },
        "block-5": {
          "default": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102",
          "variant": "package com.mycompany.app; import software.constructs.Construct;"
        },
        "block-6": {
          "default": "const ec2Instance = new instance.Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\", instanceType: \"t2.micro\", tags: { Name: \"CDKTF-Demo\", }, });",
          "variant": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102"
        },
        "block-7": {
          "default": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
          "variant": "package com.mycompany.app; import java.util.Map; import software.constructs.Construct;"
        },
        "block-8": {
          "default": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance",
          "variant": "Instance instance = Instance.Builder.create(this, \"compute\") .ami(\"ami-01456a894f71116f2\") .instanceType(\"t2.micro\") .tags(Map.of(\"Name\", \"CDKTF-Demo\")) .build();"
        },
        "block-9": {
          "default": null,
          "variant": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance"
        },
        "block-10": {
          "default": null,
          "variant": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance"
        }
      }
    },
    "lang-python": {
      "codeBlocks": 8,
      "diffs": 7,
      "changedBlocks": {
        "block-2": {
          "default": "$ cdktf init --template=\"typescript\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to start from a Terraform project? No Setting up a Cloud Backend for your project. ? Do you want to send crash reports to the CDKTF team? See https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash-reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... added 2 packages, and audited 57 packages in 1s 7 packages are looking for funding run `npm fund` for details found 0 vulnerabilities added 301 packages, and audited 358 packages in 8s 36 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ========================================================================================================",
          "variant": "$ cdktf init --template=\"python\" --providers=\"aws@~>4.0\" ? Project Name learn-cdktf ? Project Description A simple getting started project for cdktf. Detected Terraform Cloud token. We will now set up Terraform Cloud for your project. ? Terraform Cloud Organization Name <YOUR_ORG> We are going to create a new Terraform Cloud Workspace for your project. ? Terraform Cloud Workspace Name learn-cdktf ? Do you want to send crash reports to the CDKTF team? See https://web.archive.org/web/20251206125735/https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash -reporting-for-the-cli for more information Yes Generating Terraform Cloud configuration for '<YOUR_ORG>' organization and 'learn-cdktf' workspace..... Creating a virtualenv for this project... ##... ======================================================================================================== Your cdktf Python project is ready! cat help Prints this message Compile: pipenv run ./main.py Compile and run the python code. Synthesize: cdktf synth [stack] Synthesize Terraform resources to cdktf.out/ Diff: cdktf diff [stack] Perform a diff (terraform plan) for the given stack Deploy:"
        },
        "block-3": {
          "default": "import { Construct } from \"constructs\"; import { App, TerraformStack, TerraformOutput } from \"cdktf\"; import { AwsProvider } from \"@cdktf/provider-aws/lib/provider\"; import { Instance } from \"@cdktf/provider-aws/lib/instance\"; class MyStack extends TerraformStack { constructor(scope: Construct, id: string) { super(scope, id); new AwsProvider(this, \"AWS\", { region: \"us-west-1\", }); const ec2Instance = new Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\",",
          "variant": "#!/usr/bin/env python from constructs import Construct from cdktf import App, NamedRemoteWorkspace, TerraformStack, TerraformOutput, RemoteBackend from cdktf_cdktf_provider_aws.provider import AwsProvider from cdktf_cdktf_provider_aws.instance import Instance class MyStack(TerraformStack): def __init__(self, scope: Construct, ns: str): super().__init__(scope, ns) AwsProvider(self, \"AWS\", region=\"us-west-1\") instance = Instance(self, \"compute\", ami=\"ami-01456a894f71116f2\", instance_type"
        },
        "block-4": {
          "default": "const app = new App(); new MyStack(app, \"aws_instance\"); new RemoteBackend(stack, { hostname: \"app.terraform.io\", organization: \"<YOUR_ORG>\", workspaces: { name: \"learn-cdktf\" } }); app.synth();",
          "variant": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102"
        },
        "block-5": {
          "default": "$ cdktf deploy Deploying Stack: aws_instance Resources ✔ AWS_INSTANCE compute aws_instance.compute Summary: 1 created, 0 updated, 0 destroyed. Output: public_ip = 50.18.17.102",
          "variant": "instance = Instance(self, \"compute\", ami=\"ami-01456a894f71116f2\", instance_type=\"t2.micro\", tags={\"Name\": \"CDKTF-Demo\"}, )"
        },
        "block-6": {
          "default": "const ec2Instance = new instance.Instance(this, \"compute\", { ami: \"ami-01456a894f71116f2\", instanceType: \"t2.micro\", tags: { Name: \"CDKTF-Demo\", }, });",
          "variant": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance"
        },
        "block-7": {
          "default": "$ cdktf deploy aws_instance Initializing the backend... aws_instance Successfully configured the backend \"remote\"! Terraform will automatically use this backend unless the backend configuration changes. aws_instance Initializing provider plugins... aws_instance - Finding hashicorp/aws versions matching \"4.23.0\"... aws_instance - Using hashicorp/aws v4.23.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. Changes to Outputs: + public_ip = (known after apply) aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: aws_instance public_ip = \"54.219.167.18\" aws_instance",
          "variant": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance"
        },
        "block-8": {
          "default": "$ cdktf destroy aws_instance Initializing the backend... aws_instance Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file aws_instance - Using previously-installed hashicorp/aws v4.23.0 ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance ───────────────────────────────────────────────────────────────────────────── Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply \"plan\" Please review the diff output above for aws_instance ❯ Approve Applies the changes outlined in the plan. Dismiss Stop ##... Plan: 0 to add, 0 to change, 1 to destroy. Changes to Outputs: - public_ip = \"54.219.167.18\" -> null aws_instance aws_instance.compute (compute): Destroying... [id=i-0fc8d2e3931b28db3] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 10s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 20s elapsed] aws_instance aws_instance.compute (compute): Still destroying... [id=i-0fc8d2e3931b28db3, 30s elapsed] aws_instance aws_instance.compute (compute): Destruction complete after 30s aws_instance",
          "variant": null
        }
      }
    }
  }
}